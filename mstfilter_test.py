#	Copyright 2015 Place Pixel, Inc.
#
#   Licensed under the Apache License, Version 2.0 (the "License");
#   you may not use this file except in compliance with the License.
#   You may obtain a copy of the License at
#
#       http://www.apache.org/licenses/LICENSE-2.0
#
#   Unless required by applicable law or agreed to in writing, software
#   distributed under the License is distributed on an "AS IS" BASIS,
#   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
#   See the License for the specific language governing permissions and
#   limitations under the License.

import unittest
from mstfilter import bound_box_coords


class TestBoundBoxCoords(unittest.TestCase):
    def test_case1(self):
        points = [[40.7653, -73.9807], [40.7838, -73.9752], [40.7593, -73.9917], [40.7713, -73.9529], [40.7653, -73.9835],
                  [40.7846, -73.98], [40.7838, -73.979], [40.7973, -73.9608], [40.7921, -73.9766], [40.7375, -73.9979],
                  [40.7729, -73.9083], [40.7921, -73.9749], [40.783, -73.9546], [40.7799, -73.9848], [40.7435, -74.002],
                  [40.8007, -73.966], [40.7817, -73.9759], [40.803, -73.9639], [40.7292, -73.9897], [40.7828, -73.9776],
                  [40.743, -74.0013], [40.7838, -73.9728], [40.979, -72.1381], [40.7765, -73.9797], [40.7289, -73.9938],
                  [40.7375, -74.002], [40.7648, -73.9711], [40.7674, -73.9591], [40.7502, -73.9776], [40.7305, -74.0003],
                  [40.7404, -73.9883], [40.8737, -73.8983], [40.7601, -73.9656], [40.7567, -73.9842], [40.7757, -73.9584],
                  [40.7484, -73.9955], [40.7474, -73.9852], [40.7502, -73.9773], [40.7523, -73.9735], [40.7245, -74.0034],
                  [40.6834, -73.9951], [40.7289, -74.0024], [40.7773, -73.9526], [40.7292, -73.9845], [40.7305, -74.0031],
                  [40.7255, -73.9835], [40.6883, -73.9934], [40.7596, -73.9862], [40.7791, -73.9776], [40.7593, -73.9914],
                  [40.7804, -73.9763], [40.7323, -73.9938], [40.6326, -73.9934], [40.7651, -73.9656], [40.775, -73.9804],
                  [40.7515, -73.9825], [40.7633, -73.9962], [40.7508, -73.9897], [40.7833, -73.9749], [40.7583, -73.9883],
                  [40.7599, -73.9945], [40.7586, -73.9862], [40.7664, -73.9677], [40.7968, -73.9697], [40.8054, -73.9653],
                  [40.7346, -73.9931], [40.7029, -74.0127], [40.7721, -73.9814], [40.7411, -74.0048], [40.7794, -73.9807],
                  [40.7794, -73.9776], [40.763, -73.9725], [40.7419, -73.9976], [40.7492, -73.9842], [40.7763, -73.979],
                  [40.7315, -74.0027], [39.9436, -75.2167], [41.797, -74.7446], [40.7757, -73.9581], [40.7799, -73.9773],
                  [40.7583, -73.9934], [40.7578, -73.9876], [40.7794, -73.9828], [40.7664, -73.9536], [40.7599, -73.9608],
                  [40.7661, -73.9831], [39.3612, -74.4219], [40.7651, -73.9807], [40.7703, -73.9667], [36.7561, -120.378],
                  [37.3861, -119.998], [36.4161, -120.9078], [38.2261, -119.408], [36.9561, -120.238], [38.2361, -120.078],
                  [36.8561, -120.418], [36.2261, -120.818], [39.9461, -121.438], [36.7061, -122.128], [37.0961, -120.318],
                  [36.7161, -120.470]]

        [sw_lat, sw_lon], [ne_lat, ne_lon] = bound_box_coords(points, 0.9)

        # These are known values done by hand
        self.assertEqual(36.2261, sw_lat)
        self.assertEqual(-122.128, sw_lon)
        self.assertEqual(41.797, ne_lat)
        self.assertEqual(-72.1381, ne_lon)

if __name__ == '__main__':
    unittest.main()
